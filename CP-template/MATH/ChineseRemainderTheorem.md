### 一、模板类别

​	数学：中国剩余定理，扩展中国剩余定理。

### 二、模板功能

   本模板分为普通版和扩展版，普通版用于解决所有除数之间互质的情况，而扩展版可以进一步解决除数不互质的情况。
   实际上普通版速度慢于扩展版，功能也被扩展版覆盖，我不知道普通版存在的意义。

#### 1.构造函数

1. 数据类型

   构造参数 `uint32_t __n` ，表示准备接收几组余数和除数。本参数只出现在普通版里，默认值为零；主要影响运行速度，不会影响正确性。

2. 时间复杂度

   $O(1)$ 。

3. 备注

   本模板用于接收多组余数和除数，然后计算出最小的满足相关条件的数字。

#### 2.添加一组余数和除数

1. 数据类型

   输入参数 `uint64_t __r` ，表示余数。

   输入参数 `uint64_t __d` ，表示除数。

   返回类型 `bool` ，表示添加当前余数和除数之后，是否还有可能的数满足条件。

2. 时间复杂度

   普通版为 $O(1)$ ，扩展版为 $O(\log n)$ 。

3. 备注

   由于普通版在检查当前余数和除数合法性时付出了一定的额外时间，所以可以选择不进行检查，这可以通过模板参数设为 `_Check=false` 来实现。

#### 3.查询满足条件的最小数字

1. 数据类型

2. 时间复杂度

   普通版为 $O(m\cdot \log n)$ ，扩展版为 $O(1)$ 。

3. 备注

   由于普通版在添加余数和除数的时候没有进行计算，所以在查询的时候统一进行计算。

   扩展版每添加一组余数和除数就进行相应的计算，所以查询的时候可以直接输出答案。


### 三、模板示例

```c++
#include "IO/FastIO.h"
#include "MATH/ChineseRemainderTheorem.h"

int main() {
    //《孙子算经》上有名的“孙子问题”
    // 原来的题目是：“今有物不知其数，三三数之剩二，五五数之剩三，七七数之剩二。问物几何？”
    OY::ChineseRemainderTheorem crt(3);
    crt.add(2,3);
    crt.add(3,5);
    crt.add(2,7);
    cout<<"result = "<<crt.query()<<endl;

    //如果有数据合法性的问题，就检测 add 的返回值
    //“今有物不知其数，三三数之剩二，六六数之剩一。问物几何？”
    OY::ChineseRemainderTheorem_ex crt2;
    bool valid=true;
    if(!crt2.add(2,3))valid=false;
    if(!crt2.add(1,6))valid=false;
    if(valid){
        cout<<"result = "<<crt2.query()<<endl;
    }
    else{
        cout<<"Impossible!\n";
    }
}
```

```
#输出如下
result = 23
Impossible!

```

